<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Progresivn√≠ technologie - Interaktivn√≠ hry</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(45deg, #2196F3, #21CBF3);
            color: white;
            text-align: center;
            padding: 30px;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .games-menu {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            padding: 30px;
        }
        
        .game-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .game-card:hover {
            transform: translateY(-5px);
            border-color: #2196F3;
            box-shadow: 0 10px 25px rgba(33, 150, 243, 0.3);
        }
        
        .game-card h3 {
            color: #2196F3;
            font-size: 1.5rem;
            margin-bottom: 15px;
        }
        
        .game-card p {
            color: #666;
            line-height: 1.6;
        }
        
        .game-screen {
            display: none;
            padding: 30px;
        }
        
        .game-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .game-header h2 {
            color: #2196F3;
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        .back-btn {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }
        
        .back-btn:hover {
            background: #ff5252;
            transform: translateY(-2px);
        }
        
        /* Quiz Styles */
        .question {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            border-left: 5px solid #2196F3;
        }
        
        .question h3 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.3rem;
        }
        
        .options {
            display: grid;
            gap: 15px;
        }
        
        .option {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .option:hover {
            border-color: #2196F3;
            background: #f0f8ff;
        }
        
        .option.selected {
            border-color: #2196F3;
            background: #e3f2fd;
        }
        
        .option.correct {
            border-color: #4caf50;
            background: #e8f5e8;
            color: #2e7d32;
        }
        
        .option.incorrect {
            border-color: #f44336;
            background: #ffebee;
            color: #c62828;
        }
        
        .check-btn, .next-btn {
            background: #4caf50;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            margin: 10px;
            transition: all 0.3s ease;
        }
        
        .check-btn:hover, .next-btn:hover {
            background: #45a049;
            transform: translateY(-2px);
        }
        
        .score {
            text-align: center;
            font-size: 1.2rem;
            margin: 20px 0;
            padding: 15px;
            background: #e3f2fd;
            border-radius: 10px;
        }
        
        /* Memory Game Styles */
        .memory-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .memory-card {
            aspect-ratio: 1;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            font-weight: bold;
            color: white;
            transition: all 0.3s ease;
            text-align: center;
            padding: 10px;
        }
        
        .memory-card:hover {
            transform: scale(1.05);
        }
        
        .memory-card.flipped {
            background: white;
            color: #333;
            border: 2px solid #2196F3;
        }
        
        .memory-card.matched {
            background: #4caf50;
            color: white;
        }
        
        .memory-stats {
            text-align: center;
            margin: 20px 0;
            display: flex;
            justify-content: space-around;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
        }
        
        .memory-stats div {
            font-size: 1.2rem;
            font-weight: bold;
        }
        
        /* Drag and Drop Styles */
        .classification-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 20px 0;
        }
        
        .items-pool {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            min-height: 300px;
        }
        
        .items-pool h3 {
            color: #2196F3;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .drop-zone {
            background: #fff;
            border: 3px dashed #ddd;
            border-radius: 15px;
            padding: 20px;
            min-height: 150px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }
        
        .drop-zone.drag-over {
            border-color: #2196F3;
            background: #f0f8ff;
        }
        
        .drop-zone h4 {
            color: #333;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .draggable-item {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 20px;
            margin: 8px;
            border-radius: 25px;
            cursor: grab;
            display: inline-block;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            user-select: none;
        }
        
        .draggable-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .draggable-item.dragging {
            opacity: 0.5;
            cursor: grabbing;
        }
        
        .restart-btn {
            background: #ff9800;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            margin: 10px;
            transition: all 0.3s ease;
        }
        
        .restart-btn:hover {
            background: #f57c00;
            transform: translateY(-2px);
        }
        
        .explanation {
            background: #e8f5e8;
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            border-left: 5px solid #4caf50;
        }
        
        .explanation h4 {
            color: #2e7d32;
            margin-bottom: 10px;
        }
        
        @media (max-width: 768px) {
            .classification-container {
                grid-template-columns: 1fr;
            }
            
            .memory-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .games-menu {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Progresivn√≠ technologie</h1>
            <p>Interaktivn√≠ hry pro procviƒçen√≠ znalost√≠</p>
        </div>
        
        <div id="menu" class="games-menu">
            <div class="game-card" onclick="startGame('quiz')">
                <h3>üß† Kv√≠z</h3>
                <p>Otestujte sv√© znalosti o konvenƒçn√≠ch a progresivn√≠ch technologi√≠ch pomoc√≠ ot√°zek s v√Ωbƒõrem odpovƒõd√≠.</p>
            </div>
            
            <div class="game-card" onclick="startGame('memory')">
                <h3>üß© Pexeso</h3>
                <p>Najdƒõte p√°ry souvisej√≠c√≠ s r≈Øzn√Ωmi technologiemi obr√°bƒõn√≠ a jejich charakteristikami.</p>
            </div>
            
            <div class="game-card" onclick="startGame('classification')">
                <h3>üéØ Klasifikace</h3>
                <p>P≈ôet√°hnƒõte technologie do spr√°vn√Ωch kategori√≠ podle typu obr√°bƒõn√≠.</p>
            </div>
            
            <div class="game-card" onclick="startGame('sequence')">
                <h3>üìä Se≈ôazen√≠</h3>
                <p>Se≈ôaƒète technologie podle energetick√© n√°roƒçnosti a √∫ƒçinnosti.</p>
            </div>
        </div>
        
        <!-- Quiz Game -->
        <div id="quiz" class="game-screen">
            <div class="game-header">
                <button class="back-btn" onclick="showMenu()">‚Üê Zpƒõt na menu</button>
                <h2>Kv√≠z - Progresivn√≠ technologie</h2>
                <div class="score">Sk√≥re: <span id="quiz-score">0/0</span></div>
            </div>
            <div id="quiz-content"></div>
        </div>
        
        <!-- Memory Game -->
        <div id="memory" class="game-screen">
            <div class="game-header">
                <button class="back-btn" onclick="showMenu()">‚Üê Zpƒõt na menu</button>
                <h2>Pexeso - Technologie a charakteristiky</h2>
                <div class="memory-stats">
                    <div>Tahy: <span id="moves">0</span></div>
                    <div>P√°ry: <span id="pairs">0/8</span></div>
                    <div>ƒåas: <span id="time">00:00</span></div>
                </div>
                <button class="restart-btn" onclick="initMemoryGame()">üîÑ Nov√° hra</button>
            </div>
            <div class="memory-grid" id="memory-grid"></div>
        </div>
        
        <!-- Classification Game -->
        <div id="classification" class="game-screen">
            <div class="game-header">
                <button class="back-btn" onclick="showMenu()">‚Üê Zpƒõt na menu</button>
                <h2>Klasifikace technologi√≠</h2>
                <button class="restart-btn" onclick="initClassificationGame()">üîÑ Resetovat</button>
            </div>
            <div class="classification-container">
                <div class="items-pool">
                    <h3>Technologie k za≈ôazen√≠</h3>
                    <div id="items-container"></div>
                </div>
                <div>
                    <div class="drop-zone" id="conventional" ondrop="drop(event, 'conventional')" ondragover="allowDrop(event)">
                        <h4>Konvenƒçn√≠ technologie</h4>
                        <div class="drop-items"></div>
                    </div>
                    <div class="drop-zone" id="progressive" ondrop="drop(event, 'progressive')" ondragover="allowDrop(event)">
                        <h4>Progresivn√≠ technologie</h4>
                        <div class="drop-items"></div>
                    </div>
                </div>
            </div>
            <button class="check-btn" onclick="checkClassification()">Zkontrolovat odpovƒõdi</button>
            <div id="classification-result"></div>
        </div>
        
        <!-- Sequence Game -->
        <div id="sequence" class="game-screen">
            <div class="game-header">
                <button class="back-btn" onclick="showMenu()">‚Üê Zpƒõt na menu</button>
                <h2>Se≈ôazen√≠ podle energetick√© n√°roƒçnosti</h2>
                <p>Se≈ôaƒète technologie od nejmen≈°√≠ po nejvƒõt≈°√≠ spot≈ôebu energie (kW)</p>
                <button class="restart-btn" onclick="initSequenceGame()">üîÑ Resetovat</button>
            </div>
            <div id="sequence-container"></div>
            <button class="check-btn" onclick="checkSequence()">Zkontrolovat po≈ôad√≠</button>
            <div id="sequence-result"></div>
        </div>
    </div>

    <script>
        // Global variables
        let currentQuizQuestion = 0;
        let quizScore = 0;
        let memoryCards = [];
        let flippedCards = [];
        let matchedPairs = 0;
        let moves = 0;
        let startTime;
        let gameTimer;

        // Quiz questions
        const quizQuestions = [
            {
                question: "Kter√© z n√°sleduj√≠c√≠ch pat≈ô√≠ mezi konvenƒçn√≠ procesy √∫bƒõru materi√°lu?",
                options: [
                    "≈òez√°n√≠ a brou≈°en√≠",
                    "Elektrojiskrov√© obr√°bƒõn√≠",
                    "Laserov√© obr√°bƒõn√≠",
                    "Ultrazvukov√© obr√°bƒõn√≠"
                ],
                correct: 0,
                explanation: "Konvenƒçn√≠ procesy vyu≈æ√≠vaj√≠ mechanick√© zdroje energie - ≈ôez√°n√≠ s definovanou geometri√≠ ≈ôezn√© hrany a brou≈°en√≠ s neurƒçenou geometri√≠ b≈ôit≈Ø."
            },
            {
                question: "Kdy byly vyvinuty nekonvenƒçn√≠/progresivn√≠ procesy √∫bƒõru materi√°lu?",
                options: [
                    "P≈ôed rokem 1920",
                    "Po roce 1940",
                    "Po roce 1960",
                    "Po roce 1980"
                ],
                correct: 1,
                explanation: "Nekonvenƒçn√≠ procesy √∫bƒõru materi√°lu byly vyv√≠jeny a≈æ po roce 1940 jako odpovƒõƒè na pot≈ôeby obr√°bƒõn√≠ nov√Ωch, tƒõ≈ækoobrobiteln√Ωch materi√°l≈Ø."
            },
            {
                question: "Jak√° je hlavn√≠ v√Ωhoda progresivn√≠ch technologi√≠ oproti klasick√Ωm?",
                options: [
                    "Ni≈æ≈°√≠ spot≈ôeba energie",
                    "Vy≈°≈°√≠ rychlost √∫bƒõru",
                    "√öbƒõr nez√°vis√≠ na mechanick√Ωch vlastnostech materi√°lu",
                    "Levnƒõj≈°√≠ n√°stroje"
                ],
                correct: 2,
                explanation: "Progresivn√≠ technologie nez√°vis√≠ na mechanick√Ωch vlastnostech materi√°lu (tvrdost, pevnost, hou≈æevnatost), co≈æ umo≈æ≈àuje obr√°bƒõn√≠ tƒõ≈ækoobrobiteln√Ωch materi√°l≈Ø."
            },
            {
                question: "Kter√© t≈ôi z√°kladn√≠ podm√≠nky mus√≠ b√Ωt splnƒõny pro klasick√© obr√°bƒõn√≠?",
                options: [
                    "Obrobitelnost, poru≈°en√≠ soudr≈ænosti, konverze energie",
                    "Rychlost, p≈ôesnost, kvalita",
                    "Teplota, tlak, vlhkost",
                    "S√≠la, moment, v√Ωkon"
                ],
                correct: 0,
                explanation: "Z√°kladn√≠ podm√≠nky pro klasick√© obr√°bƒõn√≠: 1) obrobitelnost (n√°stroj tvrd≈°√≠ ne≈æ obrobek), 2) poru≈°en√≠ soudr≈ænosti materi√°lu, 3) konverze na mechanickou energii."
            },
            {
                question: "Jak velk√© jsou typicky mikro-t≈ô√≠sky p≈ôi brou≈°en√≠?",
                options: [
                    "Nƒõkolik mm¬≤",
                    "Okolo tis√≠ciny mm¬≤",
                    "Nƒõkolik cm¬≤",
                    "Okolo desetiny mm¬≤"
                ],
                correct: 1,
                explanation: "P≈ôi brou≈°en√≠ vznikaj√≠ velmi mal√© mikro-t≈ô√≠sky s pr≈Ø≈ôezem ≈ô√°dovƒõ okolo tis√≠ciny mm¬≤, kter√© jsou pouh√Ωm okem neviditeln√©."
            },
            {
                question: "Jak√© energetick√© zdroje vyu≈æ√≠vaj√≠ progresivn√≠ technologie?",
                options: [
                    "Pouze mechanick√©",
                    "Pouze elektrick√©",
                    "Fyzik√°ln√≠, elektrick√©, chemick√© a jin√©",
                    "Pouze tepeln√©"
                ],
                correct: 2,
                explanation: "Progresivn√≠ technologie vyu≈æ√≠vaj√≠ r≈Øzn√© zdroje energie: fyzik√°ln√≠, elektrick√©, tepeln√©, chemick√© a elektrochemick√© - na rozd√≠l od konvenƒçn√≠ch, kter√© pou≈æ√≠vaj√≠ pouze mechanickou energii."
            }
        ];

        // Memory game pairs
        const memoryPairs = [
            { id: 1, text: "≈òez√°n√≠", pair: "Definovan√° geometrie ≈ôezn√© hrany" },
            { id: 2, text: "Brou≈°en√≠", pair: "Neurƒçit√° geometrie b≈ôit≈Ø" },
            { id: 3, text: "EDM", pair: "Elektrojiskrov√© obr√°bƒõn√≠" },
            { id: 4, text: "LBM", pair: "Laserov√© obr√°bƒõn√≠" },
            { id: 5, text: "Konvenƒçn√≠", pair: "Mechanick√° energie" },
            { id: 6, text: "Progresivn√≠", pair: "R≈Øzn√© zdroje energie" },
            { id: 7, text: "Mikro-t≈ô√≠sky", pair: "~0.001 mm¬≤" },
            { id: 8, text: "Po roce 1940", pair: "Vznik progresivn√≠ch technologi√≠" }
        ];

        // Classification items
        const classificationItems = [
            { name: "Soustru≈æen√≠", type: "conventional" },
            { name: "Fr√©zov√°n√≠", type: "conventional" },
            { name: "Vrt√°n√≠", type: "conventional" },
            { name: "Brou≈°en√≠", type: "conventional" },
            { name: "Honov√°n√≠", type: "conventional" },
            { name: "Elektrojiskrov√© obr√°bƒõn√≠", type: "progressive" },
            { name: "Laserov√© ≈ôez√°n√≠", type: "progressive" },
            { name: "Ultrazvukov√© obr√°bƒõn√≠", type: "progressive" },
            { name: "Abrazivn√≠ vodn√≠ paprsek", type: "progressive" },
            { name: "Elektrolytick√© brou≈°en√≠", type: "progressive" },
            { name: "Obr√°bƒõn√≠ elektronov√Ωm paprskem", type: "progressive" },
            { name: "Chemick√© obr√°bƒõn√≠", type: "progressive" }
        ];

        // Sequence items (power consumption in kW)
        const sequenceItems = [
            { name: "LBM (Laserov√© obr√°bƒõn√≠)", power: 2 },
            { name: "EBM (Elektronov√Ω paprsek)", power: 6 },
            { name: "AJM (Abrazivn√≠ proud)", power: 4 },
            { name: "USM (Ultrazvukov√©)", power: 8 },
            { name: "EDM (Elektrojiskrov√©)", power: 10 },
            { name: "AWJ (Abrazivn√≠ vodn√≠ paprsek)", power: 15 },
            { name: "KON (Konvenƒçn√≠)", power: 18 }
        ];

        // Game functions
        function showMenu() {
            document.querySelectorAll('.game-screen').forEach(screen => screen.style.display = 'none');
            document.getElementById('menu').style.display = 'grid';
        }

        function startGame(gameType) {
            document.getElementById('menu').style.display = 'none';
            document.querySelectorAll('.game-screen').forEach(screen => screen.style.display = 'none');
            document.getElementById(gameType).style.display = 'block';

            switch(gameType) {
                case 'quiz':
                    initQuiz();
                    break;
                case 'memory':
                    initMemoryGame();
                    break;
                case 'classification':
                    initClassificationGame();
                    break;
                case 'sequence':
                    initSequenceGame();
                    break;
            }
        }

        // Quiz functions
        function initQuiz() {
            currentQuizQuestion = 0;
            quizScore = 0;
            updateQuizScore();
            showQuizQuestion();
        }

        function showQuizQuestion() {
            if (currentQuizQuestion >= quizQuestions.length) {
                showQuizResults();
                return;
            }

            const question = quizQuestions[currentQuizQuestion];
            const content = document.getElementById('quiz-content');
            
            content.innerHTML = `
                <div class="question">
                    <h3>Ot√°zka ${currentQuizQuestion + 1}/${quizQuestions.length}</h3>
                    <h3>${question.question}</h3>
                    <div class="options">
                        ${question.options.map((option, index) => `
                            <div class="option" onclick="selectOption(${index})" data-index="${index}">
                                ${option}
                            </div>
                        `).join('')}
                    </div>
                    <button class="check-btn" onclick="checkQuizAnswer()" id="check-answer" style="display: none;">Zkontrolovat</button>
                    <button class="next-btn" onclick="nextQuestion()" id="next-question" style="display: none;">Dal≈°√≠ ot√°zka</button>
                    <div id="explanation" style="display: none;"></div>
                </div>
            `;
        }

        function selectOption(index) {
            document.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
            document.querySelector(`[data-index="${index}"]`).classList.add('selected');
            document.getElementById('check-answer').style.display = 'inline-block';
        }

        function checkQuizAnswer() {
            const question = quizQuestions[currentQuizQuestion];
            const selectedOption = document.querySelector('.option.selected');
            const selectedIndex = parseInt(selectedOption.dataset.index);
            
            const options = document.querySelectorAll('.option');
            options.forEach((opt, index) => {
                if (index === question.correct) {
                    opt.classList.add('correct');
                } else if (index === selectedIndex && index !== question.correct) {
                    opt.classList.add('incorrect');
                }
            });

            if (selectedIndex === question.correct) {
                quizScore++;
            }

            document.getElementById('explanation').innerHTML = `
                <div class="explanation">
                    <h4>Vysvƒõtlen√≠:</h4>
                    <p>${question.explanation}</p>
                </div>
            `;
            document.getElementById('explanation').style.display = 'block';
            document.getElementById('check-answer').style.display = 'none';
            document.getElementById('next-question').style.display = 'inline-block';
            
            updateQuizScore();
        }

        function nextQuestion() {
            currentQuizQuestion++;
            showQuizQuestion();
        }

        function updateQuizScore() {
            document.getElementById('quiz-score').textContent = `${quizScore}/${currentQuizQuestion + 1}`;
        }

        function showQuizResults() {
            const content = document.getElementById('quiz-content');
            const percentage = Math.round((quizScore / quizQuestions.length) * 100);
            
            content.innerHTML = `
                <div class="question">
                    <h3>V√Ωsledky kv√≠zu</h3>
                    <div class="score">
                        <h2>Z√≠skali jste ${quizScore} z ${quizQuestions.length} bod≈Ø (${percentage}%)</h2>
                        ${percentage >= 80 ? 'üéâ V√Ωbornƒõ!' : percentage >= 60 ? 'üëç Dob≈ôe!' : 'üìö Zkuste to znovu!'}
                    </div>
                    <button class="next-btn" onclick="initQuiz()">Zkusit znovu</button>
                </div>
            `;
        }

        // Memory game functions
        function initMemoryGame() {
            memoryCards = [];
            flippedCards = [];
            matchedPairs = 0;
            moves = 0;
            
            // Create card pairs
            memoryPairs.forEach(pair => {
                memoryCards.push({ id: pair.id, text: pair.text, matched: false });
                memoryCards.push({ id: pair.id, text: pair.pair, matched: false });
            });
            
            // Shuffle cards
            memoryCards = memoryCards.sort(() => Math.random() - 0.5);
            
            renderMemoryGrid();
            updateMemoryStats();
            startTimer();
        }

        function renderMemoryGrid() {
            const grid = document.getElementById('memory-grid');
            grid.innerHTML = memoryCards.map((card, index) => `
                <div class="memory-card" onclick="flipCard(${index})" data-index="${index}">
                    <span>${card.flipped || card.matched ? card.text : '?'}</span>
                </div>
            `).join('');
        }

        function flipCard(index) {
            if (flippedCards.length >= 2 || memoryCards[index].flipped || memoryCards[index].matched) return;
            
            memoryCards[index].flipped = true;
            flippedCards.push(index);
            renderMemoryGrid();
            
            if (flippedCards.length === 2) {
                moves++;
                updateMemoryStats();
                
                setTimeout(() => {
                    checkMatch();
                }, 1000);
            }
        }

        function checkMatch() {
            const [first, second] = flippedCards;
            
            if (memoryCards[first].id === memoryCards[second].id) {
                memoryCards[first].matched = true;
                memoryCards[second].matched = true;
                matchedPairs++;
                
                if (matchedPairs === memoryPairs.length) {
                    clearInterval(gameTimer);
                    setTimeout(() => alert('Gratulujeme! Dokonƒçili jste hru!'), 500);
                }
            } else {
                memoryCards[first].flipped = false;
                memoryCards[second].flipped = false;
            }
            
            flippedCards = [];
            renderMemoryGrid();
            updateMemoryStats();
        }

        function updateMemoryStats() {
            document.getElementById('moves').textContent = moves;
            document.getElementById('pairs').textContent = `${matchedPairs}/${memoryPairs.length}`;
        }

        function startTimer() {
            startTime = Date.now();
            gameTimer = setInterval(() => {
                const elapsed = Date.now() - startTime;
                const minutes = Math.floor(elapsed / 60000);
                const seconds = Math.floor((elapsed % 60000) / 1000);
                document.getElementById('time').textContent = 
                    `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }, 1000);
        }

        // Classification game functions
        function initClassificationGame() {
            const container = document.getElementById('items-container');
            const shuffledItems = [...classificationItems].sort(() => Math.random() - 0.5);
            
            container.innerHTML = shuffledItems.map(item => `
                <div class="draggable-item" draggable="true" ondragstart="drag(event)" data-type="${item.type}">
                    ${item.name}
                </div>
            `).join('');
            
            // Clear drop zones
            document.querySelectorAll('.drop-items').forEach(zone => zone.innerHTML = '');
            document.getElementById('classification-result').innerHTML = '';
        }

        function allowDrop(ev) {
            ev.preventDefault();
            ev.currentTarget.classList.add('drag-over');
        }

        function drag(ev) {
            ev.dataTransfer.setData("text", ev.target.outerHTML);
            ev.dataTransfer.setData("type", ev.target.dataset.type);
            ev.target.classList.add('dragging');
        }

        function drop(ev, category) {
            ev.preventDefault();
            ev.currentTarget.classList.remove('drag-over');
            
            const data = ev.dataTransfer.getData("text");
            const type = ev.dataTransfer.getData("type");
            
            ev.currentTarget.querySelector('.drop-items').innerHTML += data;
            
            // Remove from original location
            const draggingElement = document.querySelector('.dragging');
            if (draggingElement) {
                draggingElement.remove();
            }
        }

        function checkClassification() {
            let correct = 0;
            let total = 0;
            
            const conventionalZone = document.getElementById('conventional').querySelector('.drop-items');
            const progressiveZone = document.getElementById('progressive').querySelector('.drop-items');
            
            conventionalZone.querySelectorAll('.draggable-item').forEach(item => {
                total++;
                if (item.dataset.type === 'conventional') {
                    correct++;
                    item.style.border = '2px solid #4caf50';
                } else {
                    item.style.border = '2px solid #f44336';
                }
            });
            
            progressiveZone.querySelectorAll('.draggable-item').forEach(item => {
                total++;
                if (item.dataset.type === 'progressive') {
                    correct++;
                    item.style.border = '2px solid #4caf50';
                } else {
                    item.style.border = '2px solid #f44336';
                }
            });
            
            const percentage = Math.round((correct / total) * 100);
            document.getElementById('classification-result').innerHTML = `
                <div class="score">
                    Spr√°vnƒõ za≈ôazeno: ${correct} z ${total} (${percentage}%)
                    ${percentage === 100 ? 'üéâ Perfektn√≠!' : percentage >= 80 ? 'üëç Velmi dob≈ôe!' : 'üìö Zkuste to znovu!'}
                </div>
            `;
        }

        // Sequence game functions
        let sequenceOrder = [];

        function initSequenceGame() {
            sequenceOrder = [...sequenceItems].sort(() => Math.random() - 0.5);
            renderSequence();
            document.getElementById('sequence-result').innerHTML = '';
        }

        function renderSequence() {
            const container = document.getElementById('sequence-container');
            container.innerHTML = `
                <div style="display: grid; gap: 15px; max-width: 600px; margin: 0 auto;">
                    ${sequenceOrder.map((item, index) => `
                        <div class="draggable-item" style="cursor: move; display: flex; justify-content: space-between; align-items: center;">
                            <span>${item.name}</span>
                            <div>
                                <button onclick="moveUp(${index})" style="background: #2196F3; color: white; border: none; border-radius: 50%; width: 30px; height: 30px; margin: 0 2px; cursor: pointer;">‚Üë</button>
                                <button onclick="moveDown(${index})" style="background: #2196F3; color: white; border: none; border-radius: 50%; width: 30px; height: 30px; margin: 0 2px; cursor: pointer;">‚Üì</button>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        function moveUp(index) {
            if (index > 0) {
                [sequenceOrder[index], sequenceOrder[index - 1]] = [sequenceOrder[index - 1], sequenceOrder[index]];
                renderSequence();
            }
        }

        function moveDown(index) {
            if (index < sequenceOrder.length - 1) {
                [sequenceOrder[index], sequenceOrder[index + 1]] = [sequenceOrder[index + 1], sequenceOrder[index]];
                renderSequence();
            }
        }

        function checkSequence() {
            const correctOrder = [...sequenceItems].sort((a, b) => a.power - b.power);
            let correct = 0;
            
            sequenceOrder.forEach((item, index) => {
                if (item.name === correctOrder[index].name) {
                    correct++;
                }
            });
            
            const percentage = Math.round((correct / sequenceOrder.length) * 100);
            
            let resultHTML = `
                <div class="score">
                    Spr√°vnƒõ se≈ôazeno: ${correct} z ${sequenceOrder.length} (${percentage}%)
                    ${percentage === 100 ? 'üéâ Perfektn√≠!' : percentage >= 80 ? 'üëç Velmi dob≈ôe!' : 'üìö Zkuste to znovu!'}
                </div>
                <div class="explanation">
                    <h4>Spr√°vn√© po≈ôad√≠ podle spot≈ôeby energie:</h4>
                    <ol>
            `;
            
            correctOrder.forEach(item => {
                resultHTML += `<li>${item.name} (${item.power} kW)</li>`;
            });
            
            resultHTML += `
                    </ol>
                    <p><strong>Pozorov√°n√≠:</strong> Konvenƒçn√≠ technologie (KON) maj√≠ vysokou spot≈ôebu energie, ale tak√© vysok√Ω pomƒõrn√Ω √∫bƒõr materi√°lu. Progresivn√≠ technologie maj√≠ r≈Øznou energetickou n√°roƒçnost - laserov√© obr√°bƒõn√≠ (LBM) je nej√∫spornƒõj≈°√≠, zat√≠mco abrazivn√≠ vodn√≠ paprsek (AWJ) m√° vy≈°≈°√≠ spot≈ôebu.</p>
                </div>
            `;
            
            document.getElementById('sequence-result').innerHTML = resultHTML;
        }

        // Initialize the application
        showMenu();
    </script>
</body>
</html>